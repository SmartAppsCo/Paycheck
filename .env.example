# Paycheck Server Configuration

# Server settings
HOST=127.0.0.1
PORT=3000

# Base URL for callbacks (payment providers redirect here)
# Defaults to http://{HOST}:{PORT} if not set
BASE_URL=https://api.yourdomain.com

# Database
DATABASE_PATH=paycheck.db
AUDIT_DATABASE_PATH=paycheck_audit.db

# Development mode (enables verbose logging, detailed errors)
PAYCHECK_ENV=dev

# Bootstrap first operator (only used if no operators exist)
# Remove after first run - the API key is printed to logs on startup
BOOTSTRAP_OPERATOR_EMAIL=admin@example.com

# Master key for envelope encryption (REQUIRED in production)
# Generate with: openssl rand -base64 32 > /path/to/master.key && chmod 400 /path/to/master.key
PAYCHECK_MASTER_KEY_FILE=/etc/paycheck/master.key

# Success page URL after payment (when no project redirect is configured)
# Defaults to {BASE_URL}/success if not set
# PAYCHECK_SUCCESS_PAGE_URL=https://yourdomain.com/success

# Admin console CORS origins (comma-separated)
# Required in production for admin API browser access
PAYCHECK_CONSOLE_ORIGINS=https://console.yourdomain.com

# Email delivery via Resend
# System-level API key (orgs can override with their own)
PAYCHECK_RESEND_API_KEY=re_xxxxx
# Default "from" address (projects can override with email_from setting)
PAYCHECK_DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# Rate limiting (requests per minute)
# RATE_LIMIT_STRICT_RPM=10    # For /buy (external API calls)
# RATE_LIMIT_STANDARD_RPM=30  # For most public endpoints
# RATE_LIMIT_RELAXED_RPM=60   # For /health

# Audit logging
# AUDIT_LOG_ENABLED=true
# PUBLIC_AUDIT_LOG_RETENTION_DAYS=0  # Days to keep public (end-user) logs; 0 = never purge (default)
